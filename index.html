<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <link rel="icon" type="icon" href="/Reflecta/reflecta.ico" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Reflecta</title>
      <script type="module" crossorigin src="/Reflecta/assets/index-5232c5db.js"></script>
      <link rel="stylesheet" href="/Reflecta/assets/index-d9c091d2.css">
    </head>
    <body oncontextmenu="return false;">
        <div id="app">
            <canvas id="display"></canvas>
            <div id="draggables"></div>

            <div class="left-bar blur-bg">
                <div class="header">
                    <h1>Reflecta</h1>
                    <button id="demos-open-modal-btn" aria-label="Open modal">Examples</button>
                    <button id="about-open-modal-btn" aria-label="Open modal">About</button>
                </div>
                <div class="separator"></div>
                <!-- <div class="section">
                    <h1 class="section-header">View Demos</h1>
                    <button class="section-header" id="open-left-bar-btn">View Demos</button>
                </div> -->
                <div class="entity-section">
                    <h1 class="section-header">Lights</h1>
                    <ul class="section-list">
                        <li>
                            <button data-name="Light Beam"><img src="svg/beam.svg" alt="light beam" /></button>
                        </li>
                        <li>
                            <button data-name="Point Light"><img src="svg/point-light.svg" alt="point light" /></button>
                        </li>
                        <li>
                            <button data-name="Laser"><img src="svg/laser.svg" alt="laser" /></button>
                        </li>
                    </ul>
                </div>
                <div class="entity-section">
                    <h1 class="section-header">Lenses</h1>
                    <ul class="section-list">
                        <li>
                            <button data-name="Convex Lens"><img src="svg/convex-lens.svg" alt="convex lens" /></button>
                        </li>
                        <li>
                            <button data-name="Concave Lens"><img src="svg/concave-lens.svg" alt="concave lens" /></button>
                        </li>
                        <li>
                            <button data-name="Ideal Convex Lens"><img src="svg/ideal-convex-lens.svg" alt="ideal convex lens" /></button>
                        </li>
                        <li>
                            <button data-name="Ideal Concave Lens">
                                <img src="svg/ideal-concave-lens.svg" alt="ideal concave lens" />
                            </button>
                        </li>
                    </ul>
                </div>
                <div class="entity-section">
                    <h1 class="section-header">Mirrors</h1>
                    <ul class="section-list">
                        <li>
                            <button data-name="Plane Mirror"><img src="svg/plane-mirror.svg" alt="plane mirror" /></button>
                        </li>
                        <li>
                            <button data-name="Concave Mirror"><img src="svg/concave-mirror.svg" alt="concave mirror" /></button>
                        </li>
                        <li>
                            <button data-name="Convex Mirror"><img src="svg/convex-mirror.svg" alt="convex mirror" /></button>
                        </li>
                        <li>
                            <button data-name="Blocker"><img src="svg/blocker.svg" alt="blocker" /></button>
                        </li>
                    </ul>
                </div>
                <div class="entity-section">
                    <h1 class="section-header">Shapes</h1>
                    <ul class="section-list">
                        <li>
                            <button data-name="Prism"><img src="svg/prism.svg" alt="prism" /></button>
                        </li>
                        <li>
                            <button data-name="Glass Sphere"><img src="svg/glass-sphere.svg" alt="glass sphere" /></button>
                        </li>
                        <li>
                            <button data-name="Glass Slab"><img src="svg/glass-slab.svg" alt="glass slab" /></button>
                        </li>
                    </ul>
                </div>

                <div class="entity-section">
                    <h1 class="section-header">Misc</h1>
                    <ul class="section-list">
                        <li>
                            <button data-name="Text"><img src="svg/text.svg" alt="Text" /></button>
                        </li>
                        <li>
                            <button data-name="Ruler"><img src="svg/ruler.svg" alt="ruler" /></button>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="modal-container" id="demos-modal-container">
                <div id="demos-modal" class="modal hidden blur-bg">
                    <div class="modal-heading">
                        <h3>Demos</h3>
                        <button class="close-modal-btn" id="demos-close-modal-btn" aria-label="Close modal">
                            <svg xmlns="http://www.w3.org/2000/svg" height="100%" viewBox="0 -960 960 960" width="100%">
                                <path
                                    d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"
                                />
                            </svg>
                        </button>
                    </div>

                    <div class="modal-content" id="example-list"></div>
                </div>
            </div>

            <div class="modal-container" id="about-modal-container">
                <div id="about-modal" class="modal hidden blur-bg">
                    <div class="modal-heading">
                        <h3>About</h3>
                        <button class="close-modal-btn" id="about-close-modal-btn" aria-label="Close modal">
                            <svg xmlns="http://www.w3.org/2000/svg" height="100%" viewBox="0 -960 960 960" width="100%">
                                <path
                                    d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"
                                />
                            </svg>
                        </button>
                    </div>

                    <div class="modal-content" id="about-content">
                        <div class="about-section">
                            <h1>Reflecta</h1>
                            <p>
                                Reflecta is a sandbox-type program to simulate light rays reflecting and refracting (in 2D), allowing you to
                                play around with various types of light sources and optical objects.
                            </p>
                            <p class="developer-credit">
                                View on <a href="https://github.com/KineticTactic/reflecta" target="_blank">GitHub</a>
                            </p>
                            <p class="developer-credit">
                                Developed by <a href="https://github.com/KineticTactic" target="_blank">Rudrajeet (KineticTactic)</a>
                            </p>
                        </div>

                        <div class="about-section">
                            <h4>Features</h4>
                            <ul>
                                <li>
                                    Light Sources such as Point Lights, Light Rays, Light Beams and Lasers, and objects such as Prisms,
                                    Lenses (ideal and realistic), Mirrors, etc.
                                </li>
                                <li>Reflection, Refraction, and Total internal reflection based on Snell's laws.</li>
                                <li>
                                    Partial reflection/refraction (reflectance/transmittance) calculation using fresnel equations. Enable it
                                    in <em>World Options > Sim Options > calculate reflectance</em>.
                                </li>
                                <li>Dispersion of rays, variable refractive indices based on wavelength</li>
                                <li>Accurate Color simulation from wavelength using CIE1964 color transforms.</li>
                                <li>Dynamically update properties in real time.</li>
                                <li>
                                    Uses <a href="https://github.com/KineticTactic/polyly" target="_blank">polyly</a> for rendering, a fast
                                    and dynamic WebGL 2D primitives renderer.
                                </li>
                            </ul>
                        </div>

                        <div class="about-section">
                            <h4>Why was this made?</h4>
                            <p>
                                This is a learning experience for me and a creative coding project. The idea was to create a "sandbox" where
                                you can play around with lenses and prisms interactively, inspired by my fascination with Optics in Physics.
                            </p>
                            <p>
                                It can also be used for educational purposes, like in a classroom, for demonstrating various light phenomena
                                and image formations interactively.
                            </p>
                        </div>

                        <div class="about-section">
                            <h4>External Dependencies</h4>
                            <ul>
                                <li>
                                    <a href="https://github.com/KineticTactic/polyly/" target="_blank">polyly</a> - A WebGL 2D primitives
                                    renderer built specifically for this project.
                                </li>
                                <li>
                                    <a href="https://tweakpane.github.io/docs/" target="_blank">Tweakpane</a> - A data-driven UI library.
                                </li>
                                <li>
                                    <a href="https://github.com/tweakpane/plugin-essentials" target="_blank">Tweakpane Essentials</a> -
                                    Plugin for graphs in Tweakpane.
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div id="tweakpane-container"></div>
            <div id="lower-container">
                <!-- insert svg icon from assets/link.svg -->
                <button class="lower-button" id="copy-link">
                    <span class="tooltiptext">Share Current Scene</span>
                    <svg xmlns="http://www.w3.org/2000/svg" height="20%" viewBox="0 -960 960 960" width="100%">
                        <path
                            class="svg-icon"
                            d="M440-280H280q-83 0-141.5-58.5T80-480q0-83 58.5-141.5T280-680h160v80H280q-50 0-85 35t-35 85q0 50 35 85t85 35h160v80ZM320-440v-80h320v80H320Zm200 160v-80h160q50 0 85-35t35-85q0-50-35-85t-85-35H520v-80h160q83 0 141.5 58.5T880-480q0 83-58.5 141.5T680-280H520Z"
                        />
                    </svg>
                </button>

                <button class="lower-button" id="capture">
                    <span class="tooltiptext">Capture Screenshot</span>
                    <svg xmlns="http://www.w3.org/2000/svg" height="100%" viewBox="0 -960 960 960" width="90%">
                        <path
                            class="svg-icon"
                            d="M480-260q75 0 127.5-52.5T660-440q0-75-52.5-127.5T480-620q-75 0-127.5 52.5T300-440q0 75 52.5 127.5T480-260Zm0-80q-42 0-71-29t-29-71q0-42 29-71t71-29q42 0 71 29t29 71q0 42-29 71t-71 29ZM160-120q-33 0-56.5-23.5T80-200v-480q0-33 23.5-56.5T160-760h126l74-80h240l74 80h126q33 0 56.5 23.5T880-680v480q0 33-23.5 56.5T800-120H160Zm0-80h640v-480H638l-73-80H395l-73 80H160v480Zm320-240Z"
                        />
                    </svg>
                </button>
            </div>
        </div>
        
    </body>
</html>
